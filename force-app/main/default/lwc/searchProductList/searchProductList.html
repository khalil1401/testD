<template>
    <lightning-input 
        type="search" 
        onchange={handleKeyChange} 
        class="slds-var-m-bottom_small" 
        label="Search" 
    ></lightning-input>
    <div style="background: white;" id="listbox-id-1" class="slds-dropdown_length-with-icon-7" role="listbox">
        <ul class="slds-listbox slds-listbox_vertical" role="presentation">
            <template if:true={protuctsToShow} for:each={protuctsToShow} for:item="record" for:index="index">
                <li onclick={handleSelect} role="presentation" class="slds-listbox__item" data-id={record.productoId} key={record.productoId}>
                    <div data-id={record.productoId} class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
                        <span class="slds-media__figure slds-listbox__option-icon">
                            <lightning-icon 
                                icon-name="utility:success" 
                                alternative-text="agregar" 
                                variant="success"
                                title="agregar" 
                                size="small"
                            ></lightning-icon>
                        </span>
                        <span class="slds-media__body">
                            <span class="slds-listbox__option-text_entity">
                                {record.name}
                            </span>
                            <span class="slds-listbox__option-meta">
                                Unidad De Medida: {record.unidadMedida} â€¢  &nbsp; Precio: {record.price}
                            </span>
                        </span>
                    </div>
                </li>
            </template>
        </ul>
    </div>
</template>